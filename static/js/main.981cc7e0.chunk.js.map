{"version":3,"sources":["assets/magnifying-glass.svg","assets/cross.svg","components/SearchBar/SearchBar.js","App.js","index.js"],"names":["module","exports","timeout","useState","typing","isTyping","results","setResults","search","value","url","fetch","then","response","ok","json","console","log","data","className","onSubmit","e","document","getElementById","length","preventDefault","handleSubmit","onReset","handleReset","type","id","name","placeholder","onChange","currentTarget","clearTimeout","setTimeout","handleChange","onBlur","handleBlur","onFocus","src","CrossIcon","SearchIcon","alt","map","result","key","App","SearchBar","ReactDOM","render"],"mappings":"yIAAAA,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,mC,8KCI5B,aAAO,IAGhBC,EAHe,EACQC,oBAAS,GADjB,mBACZC,EADY,KACJC,EADI,OAEWF,mBAAS,IAFpB,mBAEZG,EAFY,KAEHC,EAFG,KAKnB,SAASC,EAAOC,GACd,IAAMC,EAAG,0CAAsCD,GAC/CE,MAAMD,GACHE,KAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAEhBC,QAAQC,IAAI,WAGfL,KAAK,SAACM,GACLX,EAAWW,KAoCjB,OACE,8BACE,0BACEC,UAAU,iBACVC,SAAU,SAACC,GAAD,OAjBhB,SAAsBA,GACpB,IAAIZ,EAAQa,SAASC,eAAe,gBAAgBd,MAChDA,EAAMe,OAAS,GAAGhB,EAAOC,GAC7BJ,GAAS,GACTgB,EAAEI,iBAamBC,CAAaL,IAC9BM,QAAS,SAACN,GAAD,OAXf,SAAqBA,GACnBC,SAASC,eAAe,gBAAgBd,MAAQ,GAChDJ,GAAS,GACTgB,EAAEI,iBAQkBG,CAAYP,KAE5B,2BACEQ,KAAK,OACLC,GAAG,eACHX,UAAU,aACVY,KAAK,SACLC,YAAa5B,EAAS,GAAK,SAC3B6B,SAAU,SAACZ,GAAD,OA7ClB,SAAsBA,GACpB,IAAIZ,EAAQY,EAAEa,cAAczB,MACxBA,EAAMe,OAAS,IACbtB,GAASiC,aAAajC,GAC1BA,EAAUkC,WAAW,WACnB5B,EAAOC,IACN,MAuCkB4B,CAAahB,IAC9BiB,OAAQ,SAACjB,GAAD,OApChB,SAAoBA,GAClB,IAAIZ,EAAQY,EAAEa,cAAczB,MACxBA,EAAMe,OAAS,EACjBhB,EAAOC,GAEPJ,GAAS,GA+BUkC,CAAWlB,IAC1BmB,QAAS,kBAAMnC,GAAS,MAE1B,4BAAQc,UAAU,aAAaU,KAAK,SAClC,yBACEY,IAAKrC,EAASsC,IAAYC,IAC1BC,IAAKxC,EAAS,QAAU,aAI9B,4BACGE,EAAQuC,IAAI,SAACC,GAAD,OACX,wBAAIC,IAAKD,EAAOhB,GAAIX,UAAU,WAC3B2B,EAAOf,WCxELiB,MARf,WACE,OACE,8BACE,kBAACC,EAAD,QCDNC,IAASC,OAAO,kBAAC,EAAD,MAAS7B,SAASC,eAAe,W","file":"static/js/main.981cc7e0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/magnifying-glass.12a3c00e.svg\";","module.exports = __webpack_public_path__ + \"static/media/cross.550eff99.svg\";","import React, { useState } from \"react\";\r\nimport SearchIcon from \"../../assets/magnifying-glass.svg\";\r\nimport CrossIcon from \"../../assets/cross.svg\";\r\n\r\nexport default () => {\r\n  const [typing, isTyping] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n  let timeout;\r\n\r\n  function search(value) {\r\n    const url = `http://localhost:4000/api/ships/${value}`;\r\n    fetch(url)\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          console.log(\"error\");\r\n        }\r\n      })\r\n      .then((data) => {\r\n        setResults(data);\r\n      });\r\n  }\r\n\r\n  function handleChange(e) {\r\n    var value = e.currentTarget.value;\r\n    if (value.length > 0) {\r\n      if (timeout) clearTimeout(timeout);\r\n      timeout = setTimeout(() => {\r\n        search(value);\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  function handleBlur(e) {\r\n    var value = e.currentTarget.value;\r\n    if (value.length > 0) {\r\n      search(value);\r\n    } else {\r\n      isTyping(false);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    var value = document.getElementById(\"search-input\").value;\r\n    if (value.length > 0) search(value);\r\n    isTyping(false);\r\n    e.preventDefault();\r\n  }\r\n\r\n  function handleReset(e) {\r\n    document.getElementById(\"search-input\").value = \"\";\r\n    isTyping(false);\r\n    e.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <form\r\n        className=\"search-wrapper\"\r\n        onSubmit={(e) => handleSubmit(e)}\r\n        onReset={(e) => handleReset(e)}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          id=\"search-input\"\r\n          className=\"search-bar\"\r\n          name=\"search\"\r\n          placeholder={typing ? \"\" : \"Search\"}\r\n          onChange={(e) => handleChange(e)}\r\n          onBlur={(e) => handleBlur(e)}\r\n          onFocus={() => isTyping(true)}\r\n        />\r\n        <button className=\"search-btn\" type=\"reset\">\r\n          <img\r\n            src={typing ? CrossIcon : SearchIcon}\r\n            alt={typing ? \"reset\" : \"submit\"}\r\n          />\r\n        </button>\r\n      </form>\r\n      <ul>\r\n        {results.map((result) => (\r\n          <li key={result.id} className=\"results\">\r\n            {result.name}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </main>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport SearchBar from \"./components/SearchBar/SearchBar\";\r\n\r\nfunction App() {\r\n  return (\r\n    <main>\r\n      <SearchBar />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}